import com.paretointel.hl7v2.util.HL7v2Processor


object AppStart {


  /*

MSH|^~\&|ATHENANET|432^AA - Aaron Athena Aardvark, MD|OPAC - 432 - Final Build||201709251601||ADT^A28|1307569M432|P|2.3.1
EVN|A28|201709250400|||username  
PID||299202^^^Enterprise ID|299202^^^Enterprise ID|299202^^^Enterprise ID|TEST^SPEC||19900101|F|ATHENA|2058-6^African American|40 TEST AVENUE^^BRIGHTON^MA^02135^UNITED STATES||(555)444-6666^PRN^PH^^1^555^4446666~~TEST@EMAIL.COM^NET^^TEST@EMAIL.COM~(555)123-5555^ORN^CP^^1^555^1235555||eng^English|M|||555661234|||2180-8^Puerto Rican
NK1|1|TEST^EMERGENCY|SPOUSE||(555)666-4444||C
PV1|||52^TEST DEPARTMENT^^TEST DEPARTMENT
GT1|1||TEST^SPEC||40 TEST AVENUE^^BRIGHTON^MA^02135^UNITED STATES|(555)444-6666^TEST@EMAIL.COM||19900101|||Self||||||||||||||||||||||||||||||||||EMERGENCY TEST|(555)666-4444||SPOUSE
IN1|1|40^Self-Pay (cash)|40^Self-Pay (cash)|Self-Pay (cash)|||||||||||PP|||||||1
   */
  def main(args: Array[String]) = {
    println("Hello, world")

    val sb = new StringBuilder

    sb.append("MSH|^~\\&|HIS|RIH|EKG|EKG|199904140038||ADT^A01||P|2.2\r")
    sb.append("PID|0001|00009874|00001122|A00977|SMITH^JOHN^M|MOM|19581119|F|NOTREAL^LINDA^M|C|564 SPRING ST^^NEEDHAM^MA^02494^US|0002|(818)565-1551|(425)828-3344|E|S|C|0000444444|252-00-4414||||SA|||SA||||NONE|V1|0001|I|D.ER^50A^M110^01|ER|P00055|11B^M011^02|070615^BATMAN^GEORGE^L|555888^NOTREAL^BOB^K^DR^MD|777889^NOTREAL^SAM^T^DR^MD^PHD|ER|D.WT^1A^M010^01|||ER|AMB|02|070615^NOTREAL^BILL^L|ER|000001916994|D||||||||||||||||GDD|WA|NORM|02|O|02|E.IN^02D^M090^01|E.IN^01D^M080^01|199904072124|199904101200|199904101200||||5555112333|||666097^NOTREAL^MANNY^P\r")
    sb.append("NK1|0222555|NOTREAL^JAMES^R|FA|STREET^OTHER STREET^CITY^ST^55566|(222)111-3333|(888)999-0000|||||||ORGANIZATION\r")
    sb.append("PV1|0001|I|D.ER^1F^M950^01|ER|P000998|11B^M011^02|070615^BATMAN^GEORGE^L|555888^OKNEL^BOB^K^DR^MD|777889^NOTREAL^SAM^T^DR^MD^PHD|ER|D.WT^1A^M010^01|x||ER|AMB|02|070615^VOICE^BILL^L|ER|000001916994|D||||||||||||||||GDD|WA|NORM|02|O|02|E.IN^02D^M090^01|E.IN^01D^M080^01|199904072124|199904101200|||||5555112333|||666097^DNOTREAL^MANNY^P\r")
    sb.append("PV2|||0112^TESTING|55555^PATIENT IS NORMAL|NONE|||19990225|19990226|1|1|TESTING|555888^NOTREAL^BOB^K^DR^MD||||||||||PROD^003^099|02|ER||NONE|19990225|19990223|19990316|NONE\r")
    sb.append("AL1|1|SEV|001^POLLEN\r")
    sb.append("AL1|2|SEV|003^DUST\r")
    sb.append("GT1||0222PL|NOTREAL^BOB^B||STREET^OTHER STREET^CITY^ST^77787|(444)999-3333|(222)777-5555||||MO|111-33-5555||||NOTREAL GILL N|STREET^OTHER STREET^CITY^ST^99999|(111)222-3333\r")
    sb.append("IN1||022254P|4558PD|BLUE CROSS|STREET^OTHER STREET^CITY^ST^00990||(333)333-6666||221K|LENIX|||19980515|19990515|||PATIENT01 TEST D||||||||||||||||||02LL|022LP554")


    val oruMsg = "MSH|^~\\&|GHH LAB|ELAB-3|GHH OE|BLDG4|200202150930||ORU^R01|CNTRL-3456|P|2.5\r" + "PID|||555-44-4444||EVERYWOMAN^EVE^E^^^^L|JONES|19620320|F|||153 FERNWOOD DR.^" + "^STATESVILLE^OH^35292||(206)3345232|(206)752-121||||AC555444444||67-A4335^OH^20030520\r" + "OBR|1|845439^GHH OE|1045813^GHH LAB|15545^GLUCOSE|||200202150730|||||||||" + "555-55-5555^PRIMARY^PATRICIA P^^^^MD^^|||||||||F||||||444-44-4444^HIPPOCRATES^HOWARD H^^^^MD\r" + "OBX|1|SN|1554-5^GLUCOSE^POST 12H CFST:MCNC:PT:SER/PLAS:QN||^182|mg/dl|70_105|H|||F\r"
    val adtMsg = new StringBuilder

    adtMsg.append("MSH|^~\\&|HL7ABLAB|HNA500|HNAM|HNAM|20090911132151||ADT^A01|Q30235031T29347435X328970|A|2.3|123\r")
    adtMsg.append("EVN|A01|20090911132100|||^DRONE_PM1^DRONE_PM^^^^^^^Personnel\r")
    adtMsg.append("NK1||ROE^MARIE^^^^|SPO||(216)123-4567||EC|||||||||||||||||||||||||||\r")
    adtMsg.append("PID|1||1357920591||IntFace1101A^WinTask^^^^^Current||19801117|M||||||||||10000476524^^^FIN^FIN NBR|100000451||||||0\r")
    adtMsg.append("PV1|1|Inpatient|CD:16067689^CD:16067691^CD:16067741^Uniontown Hospit^^Bed(s)\n    ^Uniontown Hospit||||||||||||||501455^Orr^Maggi^^^^^^External ID^Personnel^^^\n    External Identifier~25584^Orr^Maggi^^^^^^PERSONNEL PRIMARY \n    IDENTIFIER^Personnel^^^Personnel Primary Identifier|Inpatient|||||||||||||||||||||\n    Uniontown Hospit||Active|||20090911132100")


    val msg = sb.toString()


    val processor = new HL7v2Processor


    val retMsg = processor.parseMessage(msg)

    println(retMsg)


  }

}
